// Generated by CoffeeScript 1.7.1
angular.module('sightApp').controller("GlobalController", function($scope) {
  this.tabIndex = 0;
  this.infoBarCtrl = null;
  this.tableViewCtrl = null;
  this.initialGraphPaperId = null;
  this.getServerAddr = function() {
    return "../back-end/api.php";
  };
  this.addNewPublication = function() {
    return this.tableViewCtrl.addEmptyRow();
  };
  this.removeSelectedPublication = function() {
    return this.tableViewCtrl.removeActiveRow();
  };
  this.getTabIndex = function() {
    return this.tabIndex;
  };
  this.setTabIndex = function(index) {
    this.tabIndex = index;
    if (this.tabIndex === 2) {
      return this.infoBarCtrl.setIsReference(true);
    } else if (this.tabIndex === 3) {
      return this.infoBarCtrl.setIsReference(false);
    }
  };
  this.switchView = function() {
    var target;
    target = 'table';
    if (window.location.href.indexOf('table') > -1) {
      target = 'graph';
      this.initialGraphPaperId = this.tableViewCtrl.activeRowEntity.pub_id;
    }
    return window.location.href = "#/" + target;
  };
  return 0;
});
