// Generated by CoffeeScript 1.7.1
angular.module('sightApp').controller("InfoBarController", function($scope) {
  $scope.globalCtrl.infobarCtrl = this;
  this.entity = {};
  this.isEditing = false;
  this.tempEntityDetail = null;
  this.startEdit = function() {
    this.tempEntityDetail = _.clone(this.entity);
    return this.isEditing = true;
  };
  this.saveEdit = function() {
    this.overwriteObject(this.tempEntityDetail, this.entity);
    this.isEditing = false;
    return $.post($scope.globalCtrl.getServerAddr() + "add_paper", this.entity);
  };
  this.cancelEdit = function() {
    this.tempEntityDetail = null;
    return this.isEditing = false;
  };
  this.setCurrentEntity = function(entity) {
    return this.entity = entity;
  };
  this.overwriteObject = function(fromObj, toObj) {
    var k, v, _results;
    _results = [];
    for (k in fromObj) {
      v = fromObj[k];
      _results.push(toObj[k] = v);
    }
    return _results;
  };
  return 0;
});
